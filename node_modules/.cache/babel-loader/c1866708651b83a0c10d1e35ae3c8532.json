{"ast":null,"code":"import _objectSpread from\"/Users/nexle-user/Documents/dr-web-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/nexle-user/Documents/dr-web-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nexle-user/Documents/dr-web-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/nexle-user/Documents/dr-web-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nexle-user/Documents/dr-web-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Layout,Menu,Tooltip,Avatar,Badge}from'antd';import{HomeOutlined,MenuOutlined,MenuFoldOutlined,WechatOutlined,UserOutlined}from'@ant-design/icons';import{Link}from'react-router-dom';import logo_Final from'../../images/logo_Final_cut.png';import{FirebaseRef}from'../../lib/firebase';import'./layout.scss';var Header=Layout.Header,Sider=Layout.Sider,Content=Layout.Content;var LayoutManage=/*#__PURE__*/function(_Component){_inherits(LayoutManage,_Component);var _super=_createSuper(LayoutManage);function LayoutManage(props){var _this;_classCallCheck(this,LayoutManage);_this=_super.call(this,props);_this.toggle=function(){_this.setState({collapsed:!_this.state.collapsed});};var hostName=window.location.hostname;var arrayHost=hostName.split(\".\");_this.state={collapsed:false,docterList:[],name:arrayHost[0]};return _this;}_createClass(LayoutManage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var member=this.props.member;var ref=FirebaseRef.child(\"/notifyDocter\");ref.on('value',function(snapshot){var data=snapshot.val();if(data&&typeof data==='object'){var newData=[];Object.keys(data).forEach(function(key){if(data[key]&&data[key].status==='pending'&&data[key].userShare===member.id){newData.push(_objectSpread(_objectSpread({},data[key]),{},{id:key}));}});var newArray=newData.reverse();_this2.setState({docterList:newArray});}});}},{key:\"render\",value:function render(){var _this$props=this.props,Component=_this$props.Component,history=_this$props.history,member=_this$props.member,active=_this$props.active,logout=_this$props.logout,name=_this$props.name;var docterList=this.state.docterList;return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Sider,{trigger:null,collapsible:true,collapsed:this.state.collapsed},/*#__PURE__*/React.createElement(\"div\",{className:\"logo logoImg-admin\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:logo_Final,alt:\"Angelo Network\",width:\"70\",height:\"70\",style:{marginBottom:\"20px\",marginLeft:\"10px\"}}))),/*#__PURE__*/React.createElement(Menu,{theme:\"dark\",mode:\"inline\",selectedKeys:[active]},/*#__PURE__*/React.createElement(Menu.Item,{onClick:function onClick(){history.push('/live-chat');},key:\"2\"},/*#__PURE__*/React.createElement(WechatOutlined,{type:\"wechat\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Live Chat\")),/*#__PURE__*/React.createElement(Menu.Item,{onClick:function onClick(){history.push('/');},key:\"1\"},/*#__PURE__*/React.createElement(HomeOutlined,null),/*#__PURE__*/React.createElement(\"span\",null,\"Notify\")))),/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Header,{style:{background:'#fff',padding:0,display:'flex',alignItems:'center'}},this.state.collapsed?/*#__PURE__*/React.createElement(MenuOutlined,{className:\"trigger\",onClick:this.toggle}):/*#__PURE__*/React.createElement(MenuFoldOutlined,{onClick:this.toggle,className:\"trigger\"}),/*#__PURE__*/React.createElement(\"div\",{style:{width:'100%',textAlign:'right',marginRight:'20px',cursor:'pointer'}},/*#__PURE__*/React.createElement(\"span\",{style:{marginRight:'10px'}},/*#__PURE__*/React.createElement(Badge,{count:docterList.length},/*#__PURE__*/React.createElement(Avatar,{style:{backgroundColor:'#87d068'},icon:/*#__PURE__*/React.createElement(UserOutlined,null)}))),/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){window.localStorage.removeItem('isUserLoggedIn');history.push('/logout');}},/*#__PURE__*/React.createElement(Tooltip,{title:\"Log out\"},\"Hi, \",name||'',\"  \")))),/*#__PURE__*/React.createElement(Content,{style:{margin:'24px 16px',padding:24,background:'#fff',minHeight:'100vh'}},/*#__PURE__*/React.createElement(Component,Object.assign({},this.props,{member:member})))));}}]);return LayoutManage;}(Component);export default LayoutManage;","map":{"version":3,"sources":["/Users/nexle-user/Documents/dr-web-react/src/Manage/Layout/index.js"],"names":["React","Component","Layout","Menu","Tooltip","Avatar","Badge","HomeOutlined","MenuOutlined","MenuFoldOutlined","WechatOutlined","UserOutlined","Link","logo_Final","FirebaseRef","Header","Sider","Content","LayoutManage","props","toggle","setState","collapsed","state","hostName","window","location","hostname","arrayHost","split","docterList","name","member","ref","child","on","snapshot","data","val","newData","Object","keys","forEach","key","status","userShare","id","push","newArray","reverse","history","active","logout","marginBottom","marginLeft","background","padding","display","alignItems","width","textAlign","marginRight","cursor","length","backgroundColor","localStorage","removeItem","margin","minHeight"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react'\nimport { Layout, Menu, Tooltip, Avatar, Badge } from 'antd';\nimport { HomeOutlined, MenuOutlined, MenuFoldOutlined, WechatOutlined, UserOutlined } from '@ant-design/icons';\nimport { Link } from 'react-router-dom'\nimport logo_Final from '../../images/logo_Final_cut.png';\nimport { FirebaseRef } from '../../lib/firebase'\nimport './layout.scss'\n\nconst { Header, Sider, Content } = Layout;\n\nclass LayoutManage extends Component {\n  constructor(props) {\n    super(props)\n    const hostName = window.location.hostname\n    const arrayHost = hostName.split(\".\")\n    this.state = {\n      collapsed: false,\n      docterList: [],\n      name: arrayHost[0]\n    };\n  }\n\n  toggle = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  };\n\n  componentDidMount() {\n    const { member } = this.props\n    let ref = FirebaseRef.child(`/notifyDocter`)\n    ref.on('value', snapshot => {\n      const data = snapshot.val()\n\n      if (data && typeof (data) === 'object') {\n        let newData = []\n        Object.keys(data).forEach(key => {\n          if (data[key] && data[key].status === 'pending' && data[key].userShare === member.id) {\n            newData.push({\n              ...data[key],\n              id: key,\n            })\n          }\n        })\n        const newArray = newData.reverse()\n\n        this.setState({\n          docterList: newArray\n        })\n      }\n    })\n  }\n\n\n  render() {\n    const { Component, history, member, active, logout, name } = this.props\n    const { docterList } = this.state\n    return (\n      <Layout>\n        <Sider trigger={null} collapsible collapsed={this.state.collapsed}>\n          <div className=\"logo logoImg-admin\" >\n            <Link to={\"/\"}><img src={logo_Final} alt=\"Angelo Network\" width=\"70\" height=\"70\" style={{ marginBottom: \"20px\", marginLeft: \"10px\" }} /></Link>\n            {/* <span className=\"layout-text\">Manage</span> */}\n          </div>\n          <Menu theme=\"dark\" mode=\"inline\" selectedKeys={[active]}>\n\n            <Menu.Item onClick={() => { history.push('/live-chat') }} key=\"2\">\n              <WechatOutlined type=\"wechat\" />\n\n              <span>Live Chat</span>\n            </Menu.Item>\n            <Menu.Item onClick={() => { history.push('/') }} key=\"1\">\n              <HomeOutlined />\n              <span>Notify</span>\n            </Menu.Item>\n          </Menu>\n        </Sider>\n        <Layout>\n          <Header style={{ background: '#fff', padding: 0, display: 'flex', alignItems: 'center' }}>\n            {\n              this.state.collapsed ? (<MenuOutlined className=\"trigger\" onClick={this.toggle}></MenuOutlined>) : (<MenuFoldOutlined onClick={this.toggle} className=\"trigger\"></MenuFoldOutlined>)\n            }\n\n            <div style={{ width: '100%', textAlign: 'right', marginRight: '20px', cursor: 'pointer' }}>\n              <span style={{ marginRight: '10px' }}>\n                <Badge count={docterList.length}>\n                  <Avatar style={{ backgroundColor: '#87d068' }} icon={<UserOutlined />} />\n                </Badge>\n              </span>\n              <span onClick={() => { window.localStorage.removeItem('isUserLoggedIn'); history.push('/logout'); }}>\n                <Tooltip title=\"Log out\">Hi, {name || ''}  </Tooltip>\n              </span>\n\n            </div>\n          </Header>\n          <Content\n            style={{\n              margin: '24px 16px',\n              padding: 24,\n              background: '#fff',\n              minHeight: '100vh',\n            }}\n          >\n            <Component {...this.props} member={member} />\n          </Content>\n\n        </Layout>\n      </Layout >\n    );\n  }\n}\n\nexport default LayoutManage;"]},"metadata":{},"sourceType":"module"}